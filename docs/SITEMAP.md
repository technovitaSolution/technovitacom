# Sitemap System Documentation

## Overview

This document describes the scalable sitemap system implemented for Technovita Solution. The system automatically discovers all pages in the application and generates a comprehensive sitemap with proper SEO metadata.

## Files Structure

```
src/
├── app/
│   ├── sitemap.ts              # Main sitemap generator
│   ├── sitemap-index.ts        # Sitemap index (for future use)
│   └── robots.ts               # Robots.txt configuration
├── lib/
│   └── sitemap-config.ts       # Sitemap configuration and utilities
scripts/
└── generate-sitemap.js         # Manual sitemap generation utility
docs/
└── SITEMAP.md                  # This documentation
```

## How It Works

### 1. Automatic Page Discovery

The sitemap system automatically scans the `src/app` directory and discovers all pages by looking for:
- `page.tsx` files
- `page.ts` files

### 2. Priority Assignment

Pages are assigned priorities based on their URL patterns:

| Pattern | Priority | Change Frequency | Description |
|---------|----------|------------------|-------------|
| `/` | 1.0 | daily | Homepage |
| `amazon-seller-services-canada` | 0.95 | weekly | Amazon Canada Services |
| `amazon-.*-seller-services` | 0.95 | weekly | Amazon International Services |
| `account-management` | 0.9 | weekly | Account Management Services |
| `catalogue` | 0.85 | weekly | Catalogue Services |
| `onboarding` | 0.85 | weekly | Onboarding Services |
| `services` | 0.9 | weekly | Service Pages |
| `how-to-get-onboarded` | 0.8 | monthly | Onboarding Guides |
| Static pages | 0.7 | monthly | About, Contact, etc. |
| Default | 0.6 | monthly | Other pages |

### 3. Directory Exclusion

The following directories are automatically excluded:
- `node_modules`
- `.next`
- `components`
- `lib`
- `types`
- `hooks`
- `contexts`
- `api`
- Configuration files

## Usage

### Automatic Generation

The sitemap is automatically generated by Next.js when you access:
- `https://technovitasolution.com/sitemap.xml`

### Manual Generation

To manually generate a sitemap for testing:

```bash
node scripts/generate-sitemap.js
```

This will create a `public/sitemap-generated.xml` file with detailed statistics.

### Robots.txt

The robots.txt file is automatically generated at:
- `https://technovitasolution.com/robots.txt`

## Configuration

### Adding New Priority Patterns

To add new priority patterns, edit `src/lib/sitemap-config.ts`:

```typescript
priorityPatterns: [
  // ... existing patterns
  {
    pattern: /your-new-pattern/,
    priority: 0.8,
    changefreq: 'weekly' as const,
    description: 'Your new service'
  }
]
```

### Adding Important Pages

To add pages that should always be included, edit the `importantPages` array:

```typescript
importantPages: [
  // ... existing pages
  '/your-new-page',
]
```

### Excluding Directories

To exclude additional directories, edit the `excludeDirectories` array:

```typescript
excludeDirectories: [
  // ... existing directories
  'your-new-directory',
]
```

## SEO Benefits

### 1. Search Engine Discovery
- Helps search engines discover all pages
- Provides crawling priorities
- Indicates update frequency

### 2. Structured Data
- Proper XML format
- Includes lastModified dates
- Priority and change frequency metadata

### 3. Scalability
- Automatically includes new pages
- No manual maintenance required
- Handles large numbers of pages efficiently

## Monitoring

### Sitemap Statistics

The manual generation script provides statistics:
- Total number of URLs
- Number of Amazon service pages
- Number of service pages
- Priority distribution

### Validation

You can validate your sitemap using:
- Google Search Console
- Bing Webmaster Tools
- Online sitemap validators

## Future Enhancements

### 1. Sitemap Index
For very large sites, implement sitemap index:
- `sitemap-services.xml` for service pages
- `sitemap-blog.xml` for blog posts
- `sitemap-products.xml` for product pages

### 2. Dynamic Last Modified
Implement actual file modification dates instead of current date.

### 3. Image Sitemap
Add image sitemap for better image SEO.

### 4. News Sitemap
If adding blog/news section, implement news sitemap.

## Troubleshooting

### Common Issues

1. **Pages not appearing in sitemap**
   - Check if the page has `page.tsx` or `page.ts` file
   - Verify the directory is not in exclude list
   - Check file permissions

2. **Wrong priorities assigned**
   - Review priority patterns in `sitemap-config.ts`
   - Check regex patterns for accuracy

3. **Sitemap not updating**
   - Clear Next.js cache
   - Restart development server
   - Check for build errors

### Debug Mode

To debug sitemap generation, add logging to `sitemap.ts`:

```typescript
console.log('Discovered pages:', pagePaths);
console.log('Generated entries:', sitemapEntries);
```

## Best Practices

1. **Keep patterns updated**: Update priority patterns when adding new service types
2. **Monitor performance**: Check sitemap generation time for large sites
3. **Validate regularly**: Use search console to validate sitemap
4. **Test new pages**: Verify new pages appear in sitemap after creation
5. **Backup configuration**: Keep backup of sitemap configuration

## Support

For issues with the sitemap system:
1. Check this documentation
2. Review the configuration files
3. Test with manual generation script
4. Check Next.js documentation for sitemap generation

